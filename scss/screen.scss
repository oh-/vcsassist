/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "grids";
@import "variables-site/variables-site";
@import "mixins/mixins-master";
@import "debug";

$page-container: (
	columns: 5,
	gutters: 1/4,
	math: fluid,
	output: float,
);
	

#page {
	@include container($page-container 100rem content-box);
	padding-left: 4rem; //push space on each side of #page - to show background
	padding-right: 4rem;
	@include breakpoint($bp-mobile) {
		padding-left: 1rem;
		padding-right: 1rem;
	};
}
#page-wrap {
	@include box-shadow(rgba(black, 0.8) 0 0 3rem);
	}
div#content {
	background-color: $color__page;
	padding-left: 1rem;
	padding-right: 1rem;
	word-wrap: break-word;
}
#primary {
	@include span(3 of 5 border-box);
	@include breakpoint($bp-mobile) {
		@include span(5 of 5);
	};
//	@include susy-breakpoint(max-width 860px, 4) {
//		@include span(100% omega);
//	};
}
#secondary {
	@include span(2 of 5 border-box);
	@include breakpoint($bp-mobile) {
		@include span(5 of 5);
	};
//	@include susy-breakpoint(max-width 860px, 2) {
//		@include span(2 of 2);
//		.widget {
//			@include gallery(3 of 5 at 2);
//		}
//	}
}

// homepage

.home article.post, .archive article.post {
	@include widgetify;
	background-color: white;
	position: relative;
	padding-left: 0.5rem;
	padding-right: 0.5rem;
	overflow: hidden;
	.entry-meta {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		max-height: 2.46154em; //worked out from line height - couldn't get function to work
		background-color: $vcsblue;
		color: $vcsgrey;
		@include adjust-font-size-to(9.75px);
		overflow: hidden;
		padding-left: 0.5rem;
		padding-right: 0.5rem;
	};
	span.posted-on {

		a {
			color: $vcsorange;
			font-weight: bold;
		}
	}
}

// titles
h1.page-title {
	@include rhythm-padding(0.5, 1);
	@include rhythm-margins(0.5, -0.5);
	@include widgetify;	
	padding-left: 0.5rem;
	padding-right: 0.5rem;
	background-color: $vcsblue-light;
}
/*--------------------------------------------------------------
 header-space

$breakpoint-to-rems: true;
$bp-mobile: max-width 640px;
$bp-screen: 680px;
$bp-largescreen: 880px;
--------------------------------------------------------------*/

.site-header {
	background-color: $color__header;
}



#masthead {
	@include span(5 of 5);
	div.menu {	
		width: 100%;
		@include background-image(linear-gradient($vcsblue-light, $vcsblue 30%, $vcsblue 80%, $vcsblue-light));
	}
	ul.nav-menu {
		$svg-gradient-shim-threshold: 1 !global;
		width: 100%;
		@include background-image(linear-gradient($vcsblue-light, $vcsblue 30%, $vcsblue 80%, $vcsblue-light));
		li {
			border-right: 1px solid $vcsblue-light;
			@include background-image(linear-gradient($vcsblue-light, $vcsblue 30%, $vcsblue 80%, $vcsblue-light));
		}
	}
	.site-branding {
		@include span(2 of 3 before);
		@include rhythm-margins(2, 1);
	}
	#header-space {
		// search box
		line-height: 180px;
		vertical-align: middle;
		@include span(1 of 3 at 3 last);
		@include breakpoint(max-width 800px) {
			@include span(1 of 1 last);
			.widget_search {
				@include span(3 of 5 at 2);
			}
		};
		.widget_search {
			min-width: 220px;
			text-align: left;
			input[type="text"] {
				@include adjust-leading-to(1);
				@include rhythm-padding(0.4, 0.2);
				vertical-align: middle;
				max-width: 100%;
			}
			input[type="image"] {
				@include adjust-leading-to(1);
				@include rhythm-padding(0.3, 0.2);
				padding-left: 1rem;
				vertical-align: middle;
				max-height: 3rem;
			}		
		}
	}
}


//asides - #main-box and #main-long widget areas

#main-box {
	@include container(3 0.05);
	@include breakpoint($bp-mobile) {
		ul li {
			@include span(2 of 2);
		};
	};
	@include breakpoint($bp-screen) {
		ul li {
			@include gallery(2 of 4 0.03);
		};
	};
	@include breakpoint($bp-largescreen) {
		ul li {
			@include gallery(1 of 3 0.05);
		};
	};
}

#main-long {
	@include container(4);
}

#secondary aside.widget {
	ul { @include span(1 of 1 border-box); }; //border box sizing because of defaults set elsewhere,the border radius was pushing over the whole size of the aside
	li { margin-bottom: 1rem;};
}

// front page posts
.home article.post header {
	@include margin-leader(1);
	
}



// Footer
footer.site-footer {
	@include container(6 border-box);
	border-top: 3rem solid $vcsgrey;
	position: relative;
	@include margin-trailer(5);
	aside#footer-space {
		@include span(6 of 6 first);
	}
	#footer-content {
		background-color: $color__background-body;
		@include span(6 of 6);
		@include rhythm-padding(2, 1);
		padding-left: gutter();
		padding-right: gutter();
	}
	.partner-logos {
		&:nth-child(4n) { @include omega}
		#logo-lvsc-unitedway {@include span(2 of 5);}
		.logo { @include span(1 of 6);}
	}
	.site-info {
		@include span(1 of 6 at 6);
		text-align: right;
	}
	.footnote {
		background-color: #485865;
		@include span(6 of 6);
		@include padding-trailer(2);
		padding-left: gutter();
		padding-right: gutter();
		.footer-logo {
			@include span(1 of 6);
			text-align: center;
		}
		.address, .copyright {
			@include span(4 at 2 of 6);
			color: #e5e7ea;
			text-align: center;			
		}
		.social {
			@include span(1 at 6 of 6 last);
			text-align: center;
		}
	}
}
